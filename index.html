<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión Comercio Voley</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        :root { --verde-club: #1d8348; --verde-oscuro: #145a32; }
        .bg-club { background-color: var(--verde-club); }
        .text-club { color: var(--verde-club); }
        .sidebar-link:hover { background-color: rgba(255,255,255,0.1); }
        .sidebar-link.active { background-color: white; color: var(--verde-club); font-weight: bold; }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="flex h-screen overflow-hidden">
        <!-- SIDEBAR -->
        <aside class="bg-club text-white w-64 flex-shrink-0 hidden md:flex flex-col shadow-xl">
            <div class="p-6 flex flex-col items-center border-b border-green-700 text-center">
                <img src="assets/img/logo.png" alt="Logo" class="w-20 h-20 mb-2 rounded-full bg-white p-1">
                <h1 class="text-xs font-bold uppercase">C.S. y D. COMERCIO</h1>
            </div>
            <nav class="flex-1 py-4 overflow-y-auto font-medium">
                <a href="#" onclick="showSection('dashboard')" class="sidebar-link flex items-center px-6 py-3"><i class="fas fa-home w-6"></i> Inicio</a>
                <a href="#" onclick="showSection('planteles')" class="sidebar-link flex items-center px-6 py-3"><i class="fas fa-users-cog w-6"></i> Planteles</a>
                <a href="#" onclick="showSection('cuotas')" class="sidebar-link flex items-center px-6 py-3"><i class="fas fa-money-check-alt w-6"></i> Cuotas</a>
                <a href="#" onclick="showSection('entrenadores')" class="sidebar-link flex items-center px-6 py-3"><i class="fas fa-user-tie w-6"></i> Entrenadores</a>
                <a href="#" onclick="showSection('historial')" class="sidebar-link flex items-center px-6 py-3"><i class="fas fa-history w-6"></i> Historial</a>
                <a href="#" onclick="showSection('reportes')" class="sidebar-link flex items-center px-6 py-3"><i class="fas fa-chart-line w-6"></i> Reportes</a>
                <a href="#" onclick="showSection('config')" class="sidebar-link flex items-center px-6 py-3 mt-10 border-t border-green-700 opacity-70"><i class="fas fa-cogs w-6"></i> Ajustes</a>
            </nav>
        </aside>

        <!-- MAIN -->
        <main class="flex-1 flex flex-col overflow-hidden">
            <header class="bg-white shadow-sm h-16 flex items-center justify-between px-8">
                <h2 id="section-title" class="text-xl font-bold text-gray-700 uppercase italic">Panel Principal</h2>
                <div class="flex items-center gap-3">
                    <span class="text-xs font-black text-club tracking-tighter">ADMIN</span>
                    <div class="w-8 h-8 rounded-full bg-club flex items-center justify-center text-white font-bold shadow-md">A</div>
                </div>
            </header>

            <div id="content" class="flex-1 overflow-y-auto p-8">
                <!-- INICIO (DASHBOARD) -->
                <section id="sec-dashboard">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-2xl shadow-md border-l-8 border-green-500">
                            <h3 class="text-xs font-black text-gray-400 uppercase tracking-widest mb-1">Jugadores</h3>
                            <p class="text-4xl font-black text-gray-800" id="dash-jugadores">0</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-md border-l-8 border-yellow-500">
                            <h3 class="text-xs font-black text-gray-400 uppercase tracking-widest mb-1">Equipos</h3>
                            <p class="text-4xl font-black text-gray-800" id="dash-equipos">0</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-md border-l-8 border-blue-500">
                            <h3 class="text-xs font-black text-gray-400 uppercase tracking-widest mb-1">Recaudación Mes</h3>
                            <p class="text-4xl font-black text-blue-600" id="dash-ingresos">$0</p>
                        </div>
                    </div>
                    <div class="bg-club text-white p-8 rounded-3xl shadow-xl flex items-center justify-between">
                        <div>
                            <h2 class="text-3xl font-black italic mb-2 tracking-tight">Bienvenido, Admin.</h2>
                            <p class="opacity-80 font-medium uppercase text-xs tracking-widest">Club Social y Deportivo Comercio - Gestión de Voley</p>
                        </div>
                        <i class="fas fa-volleyball-ball text-7xl opacity-20"></i>
                    </div>
                </section>

                <!-- PLANTELES -->
                <section id="sec-planteles" class="hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-black italic">Planteles del Club</h2>
                        <button onclick="openModal('modal-equipo')" class="bg-club text-white px-6 py-2 rounded-xl font-bold shadow-lg hover:scale-105 transition">Nuevo Equipo</button>
                    </div>
                    <div id="lista-equipos" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                </section>

                <!-- ENTRENADORES -->
                <section id="sec-entrenadores" class="hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-black italic text-gray-800">Cuerpo Técnico</h2>
                        <button onclick="openModal('modal-entrenador')" class="bg-blue-600 text-white px-6 py-2 rounded-xl font-bold shadow-lg">Nuevo Entrenador</button>
                    </div>
                    <div id="lista-entrenadores" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
                </section>

                <!-- CUOTAS -->
                <section id="sec-cuotas" class="hidden">
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                        <div class="p-6 bg-gray-50 border-b flex justify-between items-center">
                            <h3 class="font-black italic text-gray-700">LISTADO DE DEUDORES</h3>
                            <button onclick="cargarCuotasPendientes()" class="bg-club text-white p-2 rounded-full"><i class="fas fa-sync"></i></button>
                        </div>
                        <table class="w-full text-left text-sm">
                            <thead class="bg-gray-100 text-[10px] uppercase font-black text-gray-500">
                                <tr>
                                    <th class="p-4">Jugador</th>
                                    <th class="p-4">Equipo</th>
                                    <th class="p-4">Monto Sugerido</th>
                                    <th class="p-4 text-center">Acción</th>
                                </tr>
                            </thead>
                            <tbody id="tabla-pendientes" class="divide-y"></tbody>
                        </table>
                    </div>
                </section>

                <!-- REPORTES -->
                <section id="sec-reportes" class="hidden">
                    <div class="bg-white p-8 rounded-2xl shadow-xl border-t-8 border-club">
                        <h2 class="text-2xl font-black italic mb-6">REPORTE MENSUAL</h2>
                        <div class="flex gap-4 mb-8">
                            <select id="rep-mes" class="border-2 p-3 rounded-xl flex-1 font-bold bg-gray-50">
                                <option value="1">Enero</option><option value="2">Febrero</option><option value="3">Marzo</option><option value="4">Abril</option><option value="5">Mayo</option><option value="6">Junio</option><option value="7">Julio</option><option value="8">Agosto</option><option value="9">Septiembre</option><option value="10">Octubre</option><option value="11">Noviembre</option><option value="12">Diciembre</option>
                            </select>
                            <button onclick="generarReporte()" class="bg-gray-800 text-white px-8 rounded-xl font-bold shadow-md">CALCULAR</button>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="stats-reporte">
                            <!-- Datos dinámicos -->
                        </div>
                    </div>
                </section>
                
                <!-- OTRAS SECCIONES (Ajustes, Historial) se mantienen... -->
            </div>
        </main>
    </div>

    <!-- MODAL DE PAGO DETALLADO -->
    <div id="modal-pago" class="fixed inset-0 bg-black/60 hidden flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-3xl shadow-2xl w-[450px]">
            <h3 class="text-2xl font-black mb-6 text-club italic border-b pb-2">PROCESAR PAGO</h3>
            <form id="form-pago-final" class="space-y-4">
                <input type="hidden" id="pago-id-jug">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="text-[10px] font-black uppercase text-gray-400">Monto Final ($)</label>
                        <input type="number" id="pago-monto" class="w-full border-2 p-3 rounded-xl font-black text-xl text-green-700 bg-green-50">
                    </div>
                    <div>
                        <label class="text-[10px] font-black uppercase text-gray-400">Fecha de Pago</label>
                        <input type="date" id="pago-fecha" class="w-full border-2 p-3 rounded-xl font-bold text-sm">
                    </div>
                </div>
                <div>
                    <label class="text-[10px] font-black uppercase text-gray-400">Método de Pago</label>
                    <select id="pago-metodo" class="w-full border-2 p-3 rounded-xl font-bold bg-gray-50">
                        <option value="Transferencia">Transferencia</option>
                        <option value="Efectivo">Efectivo</option>
                    </select>
                </div>
                <div id="detalles-jug-pago" class="p-4 bg-gray-100 rounded-2xl text-[10px] font-bold text-gray-500 uppercase"></div>
                <div class="flex gap-3 pt-4">
                    <button type="button" onclick="closeModal('modal-pago')" class="flex-1 text-gray-400 font-black uppercase tracking-widest text-xs">Cancelar</button>
                    <button type="submit" class="flex-2 bg-club text-white px-8 py-4 rounded-2xl font-black shadow-lg">CONFIRMAR PAGO</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MODAL ENTRENADOR -->
    <div id="modal-entrenador" class="fixed inset-0 bg-black/60 hidden flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-3xl shadow-2xl w-96">
            <h3 class="text-2xl font-black mb-4 text-blue-600 italic">Nuevo Entrenador</h3>
            <form id="form-entrenador" class="space-y-4">
                <input type="text" id="ent-nombre" placeholder="Nombre Completo" class="w-full border-2 p-3 rounded-xl font-bold" required>
                <input type="number" id="ent-sueldo" placeholder="Sueldo Fijo Mensual" class="w-full border-2 p-3 rounded-xl font-bold" required>
                <div class="flex gap-2">
                    <button type="button" onclick="closeModal('modal-entrenador')" class="flex-1 text-gray-400 font-bold uppercase text-xs">Cerrar</button>
                    <button type="submit" class="flex-1 bg-blue-600 text-white py-3 rounded-xl font-bold shadow-lg">Guardar</button>
                </div>
            </form>
        </div>
    </div>
        <!-- MODAL PAGO ENTRENADOR (Agrégalo al final de tu index.html antes de los scripts) -->
    <div id="modal-pago-entrenador" class="fixed inset-0 bg-black/60 hidden flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-3xl shadow-2xl w-96">
            <h3 class="text-2xl font-black mb-1 text-blue-600 italic leading-none">PAGO SUELDO</h3>
            <p id="label-entrenador-pago" class="text-[10px] font-black text-gray-400 uppercase mb-6 tracking-widest"></p>
            <form id="form-pago-ent-final" class="space-y-4">
                <input type="hidden" id="pago-ent-id">
                <div>
                    <label class="text-[9px] font-black uppercase text-gray-400">Monto del Pago</label>
                    <input type="number" id="pago-ent-monto" class="w-full border-2 p-3 rounded-xl font-black text-lg bg-gray-50">
                </div>
                <div>
                    <label class="text-[9px] font-black uppercase text-gray-400">Fecha del Pago</label>
                    <input type="date" id="pago-ent-fecha" class="w-full border-2 p-3 rounded-xl font-bold">
                </div>
                <div>
                    <label class="text-[9px] font-black uppercase text-gray-400">Medio de Pago</label>
                    <select id="pago-ent-metodo" class="w-full border-2 p-3 rounded-xl font-bold bg-gray-50">
                        <option value="Transferencia">Transferencia</option>
                        <option value="Efectivo">Efectivo</option>
                    </select>
                </div>
                <div class="flex gap-2 pt-4">
                    <button type="button" onclick="closeModal('modal-pago-entrenador')" class="flex-1 text-gray-400 font-bold uppercase text-xs">Cerrar</button>
                    <button type="submit" class="flex-1 bg-blue-600 text-white py-3 rounded-xl font-black uppercase text-xs shadow-lg">Confirmar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Otros modales previos (equipo, jugador) se mantienen iguales pero con estilos actualizados... -->

    <script type="module" src="js/app.js"></script>
</body>
</html>